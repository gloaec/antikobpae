<div class="pagewrap" id="pagewrap">
    <div id="page-1" class="page-region show">
    
    </div><!-- /container -->

    <!-- The new page dummy; this would be dynamically loaded content -->
    <div id="page-2" class="page-region">

        <div class="page-header navbar navbar-fixed-top">
            <div id="header-region" class="page-header-inner"></div>
        </div>
        <div class="clearfix"></div>
        <div class="page-container">
            <div class="page-sidebar-wrapper">
                <div id="sidebar-region" class="page-sidebar navbar-collapse collapse"></div>
            </div>
            <div class="page-content-wrapper">
                <div class="page-content">
                    <!--<div class="page-bar">
                        <div id="breadcrumbs-region"></div>
                    </div-->
                    <div class="flash-region"></div>
                    <div id="main-region" class="clearfix"></div>
                </div>
            </div>
            <a class="page-quick-sidebar-toggler" href="javascript:;"></a>
            <div class="page-quick-sidebar-wrapper"></div>
        </div>
        <div id="footer-region" class="page-footer"></div>
        <div id="dialog-region" class="modal fade"></div>

    </div><!-- /container -->

    <div data-opening="M 40,100 150,0 -65,0 z" class="pageload-overlay" id="loader">
        <svg preserveAspectRatio="none" viewBox="0 0 80 60" height="100%" width="100%" xmlns="http://www.w3.org/2000/svg">
            <path d="M 40,100 150,0 l 0,0 z"/>
        <desc>Created with Snap</desc><defs/></svg>
    </div><!-- /pageload-overlay -->

  <div id="page-logo">
    <a href="/">
        <img class="logo-default" alt="logo" src="/assets/top-logo.png"
height="25px" style="z-index: 99999;">
    </a>
  </div>
</div>
        
<% content_for :body_js do %>
  <%= javascript_tag do %>

    $(function() {
        var pageWrap = document.getElementById( 'pagewrap' ),
            pageLogo = $( '#page-logo' ),
            pages = [].slice.call( pageWrap.querySelectorAll( 'div.page-region' ) ),
            currentPage = 0,
            triggerLoading = [].slice.call( pageWrap.querySelectorAll( 'a.pageload-link' ) ),
            loader = new SVGLoader( document.getElementById( 'loader' ), { speedIn : 500, easingIn : mina.easeinout } );

        function init() {
            loader.show();
            // after some time hide loader
            setTimeout( function() {
                loader.hide();
                pageLogo.hide();

                classie.removeClass( pages[ currentPage ], 'show' );
                // update..
                currentPage = currentPage ? 0 : 1;
                classie.addClass( pages[ currentPage ], 'show' );

            }, 2000 );
        }

        init();

        Antikobpae.current_user = new
        Antikobpae.Entities.User(<%= current_user.to_json.html_safe %>);
        Antikobpae.current_user.set({ authenticity_token: '<%= form_authenticity_token %>' });
        Antikobpae.start();
    });

  <% end %>
<% end %>
